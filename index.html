<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        //JavaScript goes here

        //Calling game() function to play 5 rounds of Rock, Paper, Scissors
        game();


        //FUNCTIONS

        //getPlayerChoice will prompt the user for their pick of Rock, Paper, or Scissors
        //and it will uppercase their input in order to make it case insensitive
        //then it will check if the user entered rock, paper, or scissors and return it
        //otherwise it will issue an alert about wrong input
        //and call itself again until the user enters the proper choice
        function getPlayerChoice(){
            let playerChoice = (prompt("Choose Rock, Paper, or Scissors", ''));
            playerChoice = playerChoice.toUpperCase();
            if(playerChoice === "ROCK" || playerChoice === "PAPER" || playerChoice === "SCISSORS"){
                return playerChoice; 
            }
            alert("Wrong input, please choose one of the three. Check your spelling.")
            return getPlayerChoice();
        }

        // getComputerChoice will generate a number between 1 and 3
        //and depending on the result, it will assign a Rock Paper or Scissors value to it
        //and then return it. Ex: if it generates 1, it will return Rock.
        function getComputerChoice(){
            //Generate a number between 1 and 3
            let number = Math.floor((Math.random() * 3) + 1);
            //Add conditionals to apply a choice to the computer based on the number generated
            if(number === 1){
                return 'ROCK';
            }
            else if(number === 2){
                return 'PAPER';
            }
            else if(number === 3){
                return 'SCISSORS';
            }
        }
        //playRound will play a single round of Rock, Paper, Scissors. It takes two
        //parameters for playerSelection and computerSelection and it will compare
        //the strings that they hold. If they are the same, it will return a string
        //for a tie, if they aren't the same then it will return a string with the victor.
        function playRound(playerSelection, computerSelection){
            if(playerSelection === computerSelection){
                return "TIE";
            }
            else if((playerSelection === "ROCK" && computerSelection === "PAPER") || (playerSelection === "PAPER" && computerSelection === "SCISSORS") || (playerSelection === "SCISSORS" && computerSelection === "ROCK")){
                return "LOSE";
            }
            else if((playerSelection === "ROCK" && computerSelection === "SCISSORS") || (playerSelection === "PAPER" && computerSelection === "ROCK") || (playerSelection === "SCISSORS" && computerSelection === "PAPER")){
                return "WIN";
            }
        }
        // game() will use the playRound function over a loop to play 5 rounds of
        // rock paper scissors and keep a tally of the results of each round
        // and display a winner at the end of the 5 rounds
        function game(){
            //score variables for the game
            let playerScore = 0;
            let computerScore = 0; 
            //result variable to store the result of each round
            let result;
            for(let i = 1; i < 6; i++){
                //Calling the getPlayerChoice and getComputerChoice() at the start of each round
                let playerSelection = getPlayerChoice();
                let computerSelection = getComputerChoice();

                //Displaying the results of each round
                console.log(`Round ${i}:`)
                result = playRound(playerSelection, computerSelection); 
                if(result === "WIN"){
                    playerScore++;
                    console.log(`Player wins! Score is now Player: ${playerScore}, Computer: ${computerScore}`);
                }
                else if(result === "LOSE"){
                    computerScore++;
                    console.log(`Player loses! Score is now Player: ${playerScore}, Computer: ${computerScore}`);
                }
            }

            //Conditionals for final result
            if(playerScore > computerScore){
                console.log(`Player wins with a score of ${playerScore} over ${computerScore}`);
            }
            else if(playerScore < computerScore){
                console.log(`Player loses with a score of ${playerScore} over ${computerScore}`);
            }
            else if(playerScore === computerScore){
                console.log(`Player tied with the computer! Both had a score of ${playerScore}`);
            }
            else{
                console.log("Error. Something must've happened with the scores");
            }
        }

        console.log("Hello World!")
    </script>
</body>
</html>